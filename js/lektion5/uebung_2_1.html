<html>
  <head>
    <style>
      * {
        margin: 10px;
        padding: 5px;
        font-family: "Helvetica Neue", sans-serif;
        font-weight: 300;
      }
    </style>
  </head>

  <h1>Dynamische Liste</h1>

  <ul id="liste">
  </ul>

  <body>
    <script>
      /* Aufgabe:
       * Erstelle per Javascript für jedes Mitglied der Simpsons einen
       * Eintrag in der Liste #liste mit ihrem Vor-, Nachnamen und Alter.
       *
       * Pro Zeile soll es einen Button haben, welcher die Zeile entfernt.
       * Implementiere das Löschen mittels dem Delegate Ansatz.
       *
       * Unter der Liste, sollen Mittels 3 Eingabe Feldern:
       * Vorname, Nachname und Alter weitere Einträge hinzugefügt werden können,
       * welche ebenfalls gelöscht werden können, nachdem sie
       * hinzugefügt wurden.
       *
       * Tipps: Verwende für das Erstellen der Nodes die forEach funktion.
       *        Verwende den Delegate Ansatz

       Erwartetes Resultat:
       <ul id="liste">
          <li>Bart Simpson (10) <button>Entfernen</button></li>
          <li>Homer Simpson (36) <button>Entfernen</button></li>
          <li>Lisa Simpson (8) <button>Entfernen</button></li>
          <li>Marge Simpson (34) <button>Entfernen</button></li>
          <li>Maggie Simpson (1) <button>Entfernen</button></li>
          <li>Hugo Simpson (10) <button>Entfernen</button></li>
          <li>Später Hinzugefügt (99) <button>Entfernen</button></li>
       </ul>
      */

      var simpsonJSON = '[{"firstname":"Bart","name":"Simpson","age":10,"sex":"m"},{"firstname":"Homer","name":"Simpson","age":36,"sex":"m"},{"firstname":"Lisa","name":"Simpson","age":8,"sex":"w"},{"firstname":"Marge","name":"Simpson","age":34,"sex":"w"},{"firstname":"Maggie","name":"Simpson","age":1,"sex":"w"},{"firstname":"Hugo","name":"Simpson","age":10,"sex":"m"}]';


       var liste = document.querySelector('#liste');
       liste.addEventListener('click', loeschen);  
                                                                     // nun kennt JavaScript deine Liste
       var jsonObject = JSON.parse(simpsonJSON);                                                                      // wir wandeln simpsonsJSON (string) in ein Object um
       
       for (var i = 0; i < jsonObject.length; i++) {                                                                  // wir gehen durch das array
       var newLi = document.createElement('li');                                                                      // wir erstellen die li
       liste.appendChild(newLi);
      //  var newBtn = document.createElement('button'); 
      //  newBtn.innerText = 'Loeschen';                                                                                                              // wir erstellen einen button
      //  newLi.appendChild(newBtn);
       newLi.innerHTML = jsonObject[i].firstname + ' ' + jsonObject[i].name + ' ' + jsonObject[i].age +'<button>Loeschen</button>';
      //  newLi.innerText = jsonObject[i].firstname + ' ' + jsonObject[i].name + ' ' + jsonObject[i].age;                // holt die daten aus dem JSON objekt
       }


       function loeschen(event) {
      if (event.target.matches('button')) {
        event.target.parentNode.parentNode.removeChild(event.target.parentNode);
      }
    }
       
      


    </script>
  </body>
</html>


